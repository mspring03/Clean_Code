# [03장] 함수

## 목차

1. [작게 만들어라!](#작게-만들어라!)
2. [한 가지만 해라!](#한-가지만-해라!)
3. [함수 당 추상화 수준은 하나로!](#함수-당-추상화-수준은-하나로!)
4. [Switch 문](#Switch-문)
5. [서술적인 이름을 사용하라!](#서술적인-이름을-사용하라!)
6. [함수 인수](#함수-인수)
7. [부수 효과를 일으키지 마라!](#부수-효과를-일으키지-마라!)
8. [명령과 조회를 분리하라!](#명령과-조회를-분리하라!)
9. [오류 코드보다 예외를 사용하라!](#오류-코드보다-예외를-사용하라!)
10. [반복하지 마라!](#반복하지-마라!)
11. [구조적 프로그래밍](#구조적-프로그래밍)
12. [함수를 어떻게 짜죠?](#함수를-어떻게-짜죠?)
13. [결론](#결론)

**[⬆ 위로가기](#목차)**

## 작게 만들어라!

- 함수를 만들때 가장 큰 규칙은 **'작게'**, 그 다음도 **'작게'** 이다.
  - 이 규칙의 근거를 대긴 곤란하지만 저자께서는 오랜 시행착오를 바탕으로 작은 함수가 좋다고 확신하신다.

### 블록과 들여쓰기

- `if`, `else`, `while` 문 등에 들어가는 블록은 한 줄이어야 한다는 의미다.
  - 대개 여기서 함수를 호출한다. 그러면 바깥 함수가 작아질 뿐더러 블록 안에서 호출하는 함수의 이름을 적절히 지으면 코드를 이해하기도 쉬워진다.
- 이 말은 중첩 구조가 생길만큼 함수를 복잡하고 크게 해선 안된다는 뜻이다.
- 함수에 들여쓰기 수준은 1단, 2단을 넘어서면 안된다.
- 그래야 함수는 읽고 이해하기 쉬워진다.

**[⬆ 위로가기](#목차)**

## 한 가지만 해라!

- **함수는 한 가지를 해야 한다. 그 한 가지를 잘 해야 한다. 그 한 가지만을 해야 한다.**
  - 이 문장에서 문제라면 그 '한 가지'가 무엇인지 알기 어려운 점이다.
- 아래 는 한 가지만 한다고 볼수 있을까? 세 가지를 한다고 주장할 수도 있다.

1. 페이지가 테스트 페이지인지 판단한다.
2. 그렇다면 설정 페이지와 해재 페이지를 넣는다.
3. 페이지를 HTML로 렌더링 한다.

- 위에서 언급하는 세 단계는 지정된 함수 이름 아래에서 추상화 수준이 하나다.
- 함수는 간단한 TO 문단으로 기술할 수 있다.

`TO RenderPageWithSetupsAndTeardowns`, 페이지가 테스트 페이지인지 확인한 후 테스트 페이지라면 설정 페이지와 해제 페이지를 넣는다. 테스트 페이지든 아니든 페이지를 HTML로 렌더링한다.

- 함수 이름 내에서 추상화 수준이 하나인 단계만 수행한다면 그 함수는 한 가지 작업만 한다.
- 조금 위 3단계를 더이상 줄이는건 볼가능하다. if 문을 `includeSetupsAndTeardownsIfTestPate`라는 함수로 만든다면 똑같은 내용을 다르게 표현할 뿐 추상화 수준은 바뀌지 않는다.
- 함수가 '한 가지'만 하는지 확인 하는 또 다른 방법으로 단순히 다른 표현이 아니라 의미 있는 이름으로 다른 함수를 추출할 수 있다면 그 함수는 여러 작업을 하는 셈이다.

**[⬆ 위로가기](#목차)**

## 함수 당 추상화 수준은 하나로!

- 함수가 확실히 '한 가지' 작업만 하려면 함수 내 모든 문장의 추상화 수준이 동일해야 한다.
  - 추상화 수준은 아주 높고, 중간, 아주 낮고 등 다양한데 한 함수 내에 추상화 수준을 섞으면 코드를 읽는 사람이 헷갈린다.

### _위에서 아래로 코드 읽기: **내려가기** 규칙_

- 코드는 위에서 아래로 **이야기** 처럼 읽혀야 좋다.
- 한 함수 다음에는 추상화 수준이 한 단계 낮은 함수가 온다.
- 즉, 위에서 아래로 내려갈수록 함수 추상화 수준이 한 단계씩 낮아지는데 저자는 이것을 **내려가기** 규칙이라 부른다.

**[⬆ 위로가기](#목차)**

## Switch 문

**[⬆ 위로가기](#목차)**

## 서술적인 이름을 사용하라!

**[⬆ 위로가기](#목차)**

## 함수 인수

**[⬆ 위로가기](#목차)**

## 부수 효과를 일으키지 마라!

**[⬆ 위로가기](#목차)**

## 명령과 조회를 분리하라!

**[⬆ 위로가기](#목차)**

## 오류 코드보다 예외를 사용하라!

**[⬆ 위로가기](#목차)**

## 반복하지 마라!

**[⬆ 위로가기](#목차)**

## 구조적 프로그래밍

**[⬆ 위로가기](#목차)**

## 함수를 어떻게 짜죠?

**[⬆ 위로가기](#목차)**

## 결론
